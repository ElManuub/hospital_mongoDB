<div class="h-screen flex flex-col">
    <app-nav />

    <!-- principal container -->
    <div class="bg-gray-50 flex items-center justify-center flex-1">
        <div class="w-full max-w-5xl px-4">
            <h1 class="text-3xl font-bold mb-6 text-center">Administraci√≥n de Empleados</h1>

            <div class="block text-left mb-6">
                <form action="" method="GET">
                    <input type="text" name="search" value="" class="py-2 px-4 border border-gray-300 rounded-md"
                        placeholder="Buscar Empleado...">
                    <button type="submit" class="bg-green-500 text-white px-4 py-2 rounded-md">Buscar</button>
                </form>
            </div>

            <div class="block text-left mb-6">
                <a href="employee/create"
                    class="text-white bg-yellow-400 hover:bg-green-700 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 dark:focus:ring-green-800">
                    Agregar empleado
                </a>
            </div>

            <!-- table -->
            <div class="overflow-x-auto">
                <table class="w-full bg-white border border-gray-200 rounded-lg shadow-md">
                    <thead>
                        <tr class="bg-green-500 text-white">
                            <th class="py-3 px-4 text-left">Nombre de usuario</th>
                            <th class="py-3 px-4 text-left">Fecha de nacimiento</th>
                            <th class="py-3 px-4 text-left">Tipo de empleado</th>
                            <th class="py-3 px-4 text-left">Estatus</th>
                            <th class="py-3 px-4 text-left">Foto</th>
                            <th class="py-3 px-4 text-center">Editar</th>
                            <th class="py-3 px-4 text-center">Borrar</th>
                        </tr>
                    </thead>
                    <tbody *ngIf="employees.length > 0; else noEmployees">
                        <tr *ngFor="let employee of employees" class="border-b hover:bg-gray-100">
                            <td class="py-3 px-4">{{ employee.first_name }}</td>
                            <td class="py-3 px-4">{{ employee.birth_date }}</td>
                            <td class="py-3 px-4">{{ employee.employee_type }}</td>
                            <td class="py-3 px-4">
                                <span class="text-sm font-semibold">{{ employee.status }}</span>
                            </td>
                            <td class="py-3 px-4">
                                <img class="w-16 h-16 rounded-lg" [src]="employee.profile_image"
                                    alt="Foto de {{ employee.first_name }}">
                            </td>
                            <td class="py-3 px-4 text-center">
                                <a [routerLink]="['/employee/edit', employee.id]" routerLinkActive="router-link-active"
                                    class="text-blue-500 font-semibold hover:underline">Editar</a>
                            </td>
                            <td class="py-3 px-4 text-center">
                                <a [routerLink]="['/employee/show/', employee.id]"
                                    class="text-blue-500 font-semibold hover:underline">borrar</a>
                            </td>
                        </tr>
                    </tbody>

                    <!-- don't employees -->
                    <ng-template #noEmployees>
                        <tbody>
                            <tr>
                                <td colspan="8" class="text-center py-4">No hay empleados registrados</td>
                            </tr>
                        </tbody>
                    </ng-template>

                </table>
                <!-- Mostrar mensaje de error si hay uno -->
                <div *ngIf="errorMessage" class="text-red-500 mt-2">
                    {{ errorMessage }}
                </div>
            </div>
        </div>
    </div>

    <app-footer />
</div>